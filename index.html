<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan Rizky & Sri</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@400;600;700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    
    <!-- Tone.js for Music -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFF0F5; /* Soft pink background */
            color: #333;
            overflow-x: hidden;
        }
        
        /* Custom Fonts */
        .font-great-vibes { font-family: 'Great Vibes', cursive; }
        .font-playfair { font-family: 'Playfair Display', serif; }
        
        /* --- Animation: Opening Cover --- */
        #cover {
            transition: opacity 1s ease-out, transform 1s ease-out;
        }
        #cover.hidden {
            opacity: 0;
            transform: scale(1.2);
            pointer-events: none;
        }
        
        /* --- Animation: Fade-in on Scroll --- */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Animation: Falling Petals & Sparkles --- */
        #petal-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            overflow: hidden;
        }
        .petal {
            position: absolute;
            top: -20px;
            font-size: 20px;
            color: #FFB6C1; /* Light Pink */
            opacity: 0.7;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0.3;
            }
        }
        
        /* --- Animation: Gentle Float (untuk Kartun) --- */
        @keyframes floatAnimation {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-12px);
            }
        }
        .float-animation {
            animation: floatAnimation 6s ease-in-out infinite;
        }

        /* --- Countdown Timer Styling --- */
        .countdown-box {
            background: rgba(219, 68, 114, 0.1);
            border-radius: 0.5rem;
            padding: 0.75rem 0.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .countdown-box span:first-child {
            font-size: 1.25rem;
            font-weight: 700;
            color: #DB4472;
        }
        .countdown-box span:last-child {
            font-size: 0.7rem;
            text-transform: uppercase;
            color: #883952;
        }
        
        /* --- Music Toggle Button --- */
        #music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        #music-toggle:hover {
            transform: scale(1.1);
        }
        
        /* --- Tab/Accordion for Gifts --- */
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .tab-btn {
            background-color: #ffffff;
            color: #c2185b;
            border: 1px solid #f8bbd0;
            transition: all 0.3s ease;
        }
        .tab-btn.active {
            background-image: linear-gradient(to right, #db2777, #c026d3);
            color: white;
            border-color: transparent;
        }
        
        /* --- Custom Scrollbar --- */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #FFF0F5;
        }
        ::-webkit-scrollbar-thumb {
            background: #D94680;
            border-radius: 10px;
        }
    </style>
</head>
<body class="max-w-xl mx-auto overflow-x-hidden">

    <!-- Petal Animation Container -->
    <div id="petal-container"></div>

    <!-- Background Music -->
    <!-- Musik akan dibuat dengan Tone.js, tidak perlu file mp3 -->

    <!-- Music Toggle Button -->
    <button id="music-toggle" aria-label="Toggle Music">
        <!-- SVG for Music On -->
        <svg id="music-on-icon" class="w-5 h-5 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l10.5-3v13.5m0-13.5L9 6m10.5 3.5v-3.5m-10.5 13.5V6"></path></svg>
        <!-- SVG for Music Off -->
        <svg id="music-off-icon" class="w-5 h-5 text-gray-400 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.683 3.707 11 3.934 11 4.293V19.707c0 .359-.317.586-.707.293L5.586 15z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"></path></svg>
    </button>

    <!-- 1. Opening Cover (Animasi Pembuka) -->
    <div id="cover" class="fixed inset-0 z-[9999] bg-gradient-to-br from-pink-200 to-rose-50 flex flex-col items-center justify-center text-center p-8">
        <h2 class="font-playfair text-xl text-pink-700">The Wedding Of</h2>
        <h1 class="font-great-vibes text-6xl text-pink-900 my-6">Rizky & Sri</h1>
        <div class="my-8">
            <img src="https://placehold.co/150x150/F8BBD0/C2185B?text=R%26S" 
                 alt="[Foto Pasangan R&S]"
                 class="w-36 h-36 rounded-full shadow-lg border-4 border-white object-cover">
        </div>
        <p class="text-lg text-pink-800">Kepada Yth.</p>
        <p class="text-2xl font-bold text-pink-900 bg-white/50 px-4 py-2 rounded-lg" id="guest-name">Tamu Undangan</p>
        <p class="mt-4 text-sm text-pink-700">Kami mengundang Anda untuk hadir di hari bahagia kami.</p>
        <button id="open-invitation" class="mt-8 bg-gradient-to-r from-pink-600 to-rose-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300">
            Buka Undangan
        </button>
    </div>

    <!-- Main Content (Hidden until cover is opened) -->
    <main id="main-content" class="hidden opacity-0 transition-opacity duration-1000">
        
        <!-- 2. Hero Section -->
        <header class="relative h-screen flex flex-col items-center justify-center text-center text-white p-6" style="background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://placehold.co/600x800/F8BBD0/C2185B?text=Wedding+Photo') no-repeat center center/cover;">
            <div class="absolute inset-0 bg-black opacity-30"></div>
            <div class="z-10">
                <h2 class="font-playfair text-xl fade-in">You are Invited to the Wedding of</h2>
                <h1 class="font-great-vibes text-7xl my-4 fade-in">Rizky & Sri</h1>
                <p class="font-playfair text-xl fade-in">31 Desember 2025</p>
            </div>
        </header>

        <!-- Bismillah & Ayat -->
        <section class="py-16 px-6 text-center bg-white shadow-inner-lg">
            <p class="text-lg text-pink-700 mb-6 fade-in">
                ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸëŸ∞ŸáŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸíŸÖŸ∞ŸÜŸê ÿßŸÑÿ±ŸëŸéÿ≠ŸêŸäŸíŸÖŸê
            </p>
            <p class="text-gray-600 max-w-lg mx-auto italic fade-in">
                "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang."
            </p>
            <p class="text-gray-700 font-semibold mt-4 fade-in">(QS. Ar-Rum: 21)</p>
            
            <!-- Pemisah Bagian -->
            <p class="font-playfair text-3xl text-pink-300 my-10 fade-in">~ ü§ç ~</p>
        </section>

        <!-- 3. Mempelai (The Couple) -->
        <section class="py-16 px-6 text-center">
            <h2 class="font-playfair text-4xl text-pink-800 mb-12 fade-in">Pasangan Mempelai</h2>
            
            <!-- Mempelai Pria -->
            <div class="mb-12 fade-in">
                <img src="https://placehold.co/150x150/F8BBD0/333?text=Rizky" alt="[Foto Rizky Doli]" class="w-36 h-36 rounded-full mx-auto shadow-lg border-4 border-white object-cover transform transition-transform duration-300 hover:scale-105">
                <h3 class="font-great-vibes text-5xl text-pink-800 mt-6">Rizky Doli</h3>
                <p class="text-gray-600 mt-2">Putra dari</p>
                <p class="text-gray-800 font-semibold">Bapak [Nama Ayah Rizky] & Ibu [Nama Ibu Rizky]</p>
            </div>
            
            <!-- (BARU) Kartun Pasangan & Animasi -->
            <div class="my-8 fade-in float-animation">
                <img src="https://placehold.co/200x200/F8BBD0/C2185B?text=Kartun+Pasangan+Hijab" 
                     alt="[Kartun Pasangan Pengantin Hijab]"
                     class="w-48 h-48 rounded-full mx-auto shadow-lg border-4 border-white object-cover">
                <span class="font-great-vibes text-6xl text-pink-500 mt-4 block">&</span>
            </div>
            
            <!-- Mempelai Wanita -->
            <div class="mt-12 fade-in">
                <img src="https://placehold.co/150x150/F8BBD0/333?text=Sri" alt="[Foto Sri Raudoh]" class="w-36 h-36 rounded-full mx-auto shadow-lg border-4 border-white object-cover transform transition-transform duration-300 hover:scale-105">
                <h3 class="font-great-vibes text-5xl text-pink-800 mt-6">Sri Raudoh</h3>
                <p class="text-gray-600 mt-2">Putri dari</p>
                <p class="text-gray-800 font-semibold">Bapak [Nama Ayah Sri] & Ibu [Nama Ibu Sri]</p>
            </div>
        </section>

        <!-- 4. Countdown Timer -->
        <section class="py-16 px-6 bg-white shadow-inner-lg text-center fade-in">
            <h2 class="font-playfair text-4xl text-pink-800 mb-8">Menuju Hari H</h2>
            <div id="countdown" class="flex justify-center gap-3 sm:gap-6">
                <div class="countdown-box">
                    <span id="days">00</span>
                    <span>Hari</span>
                </div>
                <div class="countdown-box">
                    <span id="hours">00</span>
                    <span>Jam</span>
                </div>
                <div class="countdown-box">
                    <span id="minutes">00</span>
                    <span>Menit</span>
                </div>
                <div class="countdown-box">
                    <span id="seconds">00</span>
                    <span>Detik</span>
                </div>
            </div>
            
            <!-- Pemisah Bagian -->
            <p class="font-playfair text-3xl text-pink-300 mt-16 fade-in">~ üå∏ ~</p>
        </section>

        <!-- 5. Acara (Event Details) & Maps -->
        <section class="py-16 px-6">
            <h2 class="font-playfair text-4xl text-pink-800 mb-12 text-center fade-in">Detail Acara</h2>
            
            <!-- (DIUBAH) Akad Nikah Card - Desain baru (bukan glassmorphism) -->
            <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-8 mb-8 fade-in">
                <h3 class="font-playfair text-3xl text-pink-700 text-center">Akad Nikah</h3>
                <div class="flex items-center justify-center my-6 text-pink-800">
                    <!-- Icon Kalender -->
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    <p class="text-lg">Rabu, 31 Desember 2025</p>
                </div>
                <div class="flex items-center justify-center mb-6 text-pink-800">
                    <!-- Icon Jam -->
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <p class="text-lg">Pukul 08.00 WIB - Selesai</p>
                </div>
                <p class="text-center text-gray-700 font-semibold text-lg">Mesjid Raya Padangsidimpuan</p>
                <p class="text-center text-gray-600 text-sm mt-1">Jl. Mesjid Raya Baru, Padangsidimpuan</p>
                
                <!-- Peta Mini -->
                <div class="rounded-lg overflow-hidden mt-6 shadow-md border border-gray-200">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.971550993951!2d99.270425!3d1.373199!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x302e956977bf5137%3A0xe84a9e53b963e635!2sMasjid%20Raya%20Padangsidimpuan!5e0!3m2!1sen!2sid!4v1678888888888" 
                            width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <a href="https://maps.app.goo.gl/y2BvT2Yf8b88Jq6C9" target="_blank" class="block w-full text-center bg-gradient-to-r from-pink-600 to-rose-500 text-white font-bold py-3 px-6 rounded-lg mt-6 transform hover:scale-105 transition-all duration-300">
                    Lihat Lokasi di Google Maps
                </a>
            </div>

            <!-- (DIUBAH) Resepsi Card - Desain baru -->
            <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-8 fade-in">
                <h3 class="font-playfair text-3xl text-pink-700 text-center">Resepsi</h3>
                <div class="flex items-center justify-center my-6 text-pink-800">
                    <!-- Icon Kalender -->
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    <p class="text-lg">Kamis, 15 Januari 2026</p>
                </div>
                 <div class="flex items-center justify-center mb-6 text-pink-800">
                    <!-- Icon Jam -->
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <p class="text-lg">Pukul 10.00 WIB - Selesai</p>
                </div>
                <p class="text-center text-gray-700 font-semibold text-lg">Lapangan SMK 1 Padangsidimpuan</p>
                <p class="text-center text-gray-600 text-sm mt-1">Jl. Perintis Kemerdekaan, Padangsidimpuan</p>

                <!-- Peta Mini -->
                <div class="rounded-lg overflow-hidden mt-6 shadow-md border border-gray-200">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.95671569435!2d99.268725!3d1.379399!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x302e95690b274c3d%3A0xea835a25f9b3b841!2sSMK%20Negeri%201%20Padangsidimpuan!5e0!3m2!1sen!2sid!4v1678888999999" 
                            width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <a href="https://maps.app.goo.gl/gN9H3qK3J3H1u4y1A" target="_blank" class="block w-full text-center bg-gradient-to-r from-pink-600 to-rose-500 text-white font-bold py-3 px-6 rounded-lg mt-6 transform hover:scale-105 transition-all duration-300">
                    Lihat Lokasi di Google Maps
                </a>
            </div>
        </section>

        <!-- 6. RSVP (Konfirmasi Kehadiran) -->
        <section class="py-16 px-6 bg-white shadow-inner-lg fade-in">
            <h2 class="font-playfair text-4xl text-pink-800 mb-8 text-center">Konfirmasi Kehadiran</h2>
            <!-- (DIUBAH) Form dibuat menjadi card -->
            <form id="rsvp-form" class="max-w-md mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-8">
                <div class="mb-4">
                    <label for="rsvp-name" class="block text-gray-700 mb-2">Nama Anda</label>
                    <input type="text" id="rsvp-name" name="name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Tulis nama Anda" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">Konfirmasi</label>
                    <select id="rsvp-status" name="status" class="w-full px-4 py-2 border rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-pink-300" required>
                        <option value="" disabled selected>Pilih...</option>
                        <option value="Hadir">Hadir</option>
                        <option value="Tidak Hadir">Tidak Hadir</option>
                    </select>
                </div>
                <div class="mb-6" id="rsvp-count-wrapper" style="display: none;">
                    <label for="rsvp-count" class="block text-gray-700 mb-2">Jumlah Tamu (termasuk Anda)</label>
                    <input type="number" id="rsvp-count" name="count" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" value="1" min="1">
                </div>
                <button type="submit" id="rsvp-submit" class="w-full bg-gradient-to-r from-pink-600 to-rose-500 text-white font-bold py-3 px-6 rounded-lg transform hover:scale-105 transition-all duration-300">
                    Kirim Konfirmasi
                </button>
                <p id="rsvp-message" class="text-center mt-4"></p>
            </form>
        </section>

        <!-- 7. Buku Tamu Digital (Ucapan & Doa) -->
        <section class="py-16 px-6 fade-in">
            <h2 class="font-playfair text-4xl text-pink-800 mb-8 text-center">Buku Tamu</h2>
            <!-- (DIUBAH) Form card styling -->
            <form id="guestbook-form" class="max-w-md mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-8">
                <div class="mb-4">
                    <label for="guestbook-name" class="block text-gray-700 mb-2">Nama Anda</label>
                    <input type="text" id="guestbook-name" name="name" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Tulis nama Anda" required>
                </div>
                <div class="mb-6">
                    <label for="guestbook-message" class="block text-gray-700 mb-2">Ucapan & Doa</label>
                    <textarea id="guestbook-message" name="message" rows="4" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-300" placeholder="Tulis ucapan dan doa Anda..." required></textarea>
                </div>
                <button type="submit" id="guestbook-submit" class="w-full bg-gradient-to-r from-pink-600 to-rose-500 text-white font-bold py-3 px-6 rounded-lg transform hover:scale-105 transition-all duration-300">
                    Kirim Ucapan
                </button>
                <p id="guestbook-message-response" class="text-center mt-4"></p>
            </form>
            
            <div id="guestbook-display" class="max-w-md mx-auto mt-8">
                <!-- Ucapan yang masuk bisa ditampilkan di sini -->
            </div>
        </section>
        
        <!-- 8. Angpao Cashless / E-Gift -->
        <section class="py-16 px-6 bg-white shadow-inner-lg fade-in">
            <!-- Pemisah Bagian -->
            <p class="font-playfair text-3xl text-pink-300 mb-10 fade-in text-center">~ üéÅ ~</p>
            
            <h2 class="font-playfair text-4xl text-pink-800 mb-8 text-center">Kirim Hadiah</h2>
            <p class="text-center text-gray-600 max-w-lg mx-auto mb-10">
                Doa restu Anda adalah hadiah terindah bagi kami. Namun, jika Anda ingin memberikan tanda kasih, Anda dapat melakukannya secara non-tunai melalui:
            </p>
            
            <div class="max-w-md mx-auto">
                <!-- (DIUBAH) Tab Buttons - Desain baru -->
                <div class="flex rounded-lg shadow-sm border border-pink-200 mb-6">
                    <button class="tab-btn active w-1/2 py-3 rounded-l-lg font-semibold" data-tab="bank">
                        Transfer Bank
                    </button>
                    <button class="tab-btn w-1/2 py-3 rounded-r-lg font-semibold" data-tab="ewallet">
                        E-Wallet
                    </button>
                </div>
                
                <!-- (DIUBAH) Tab Content - Desain card baru -->
                <div id="tab-bank" class="tab-content active">
                    <div class="bg-white shadow-md rounded-lg p-6 text-center mb-4">
                        <img src="https://placehold.co/100x30/fff/ccc?text=Logo+Bank+BCA" alt="[Logo Bank BCA]" class="h-8 mx-auto mb-3">
                        <p class="text-gray-700">Bank Central Asia (BCA)</p>
                        <p class="text-xl font-bold text-pink-800 my-2">1234567890</p>
                        <p class="text-gray-700">a.n. Rizky Doli</p>
                        <button class="copy-btn mt-3 text-sm bg-pink-100 text-pink-700 py-1 px-3 rounded-full hover:bg-pink-200 transition-colors" data-text="1234567890">Salin No. Rek</button>
                    </div>
                     <div class="bg-white shadow-md rounded-lg p-6 text-center">
                        <img src="https://placehold.co/100x30/fff/ccc?text=Logo+Bank+Mandiri" alt="[Logo Bank Mandiri]" class="h-8 mx-auto mb-3">
                        <p class="text-gray-700">Bank Mandiri</p>
                        <p class="text-xl font-bold text-pink-800 my-2">0987654321</p>
                        <p class="text-gray-700">a.n. Sri Raudoh</p>
                        <button class="copy-btn mt-3 text-sm bg-pink-100 text-pink-700 py-1 px-3 rounded-full hover:bg-pink-200 transition-colors" data-text="0987654321">Salin No. Rek</button>
                    </div>
                </div>
                
                <div id="tab-ewallet" class="tab-content">
                    <div class="bg-white shadow-md rounded-lg p-6 text-center mb-4">
                        <img src="https://placehold.co/100x30/fff/ccc?text=Logo+GOPAY" alt="[Logo GOPAY]" class="h-8 mx-auto mb-3">
                        <p class="text-gray-700">GOPAY</p>
                        <p class="text-xl font-bold text-blue-800 my-2">08123456789</p>
                        <p class="text-gray-700">a.n. Rizky Doli</p>
                        <button class="copy-btn mt-3 text-sm bg-blue-100 text-blue-700 py-1 px-3 rounded-full hover:bg-blue-200 transition-colors" data-text="08123456789">Salin No.</button>
                    </div>
                    <div class="bg-white shadow-md rounded-lg p-6 text-center">
                        <img src="https://placehold.co/100x30/fff/ccc?text=Logo+OVO" alt="[Logo OVO]" class="h-8 mx-auto mb-3">
                        <p class="text-gray-700">OVO</p>
                        <p class="text-xl font-bold text-purple-800 my-2">08987654321</p>
                        <p class="text-gray-700">a.n. Sri Raudoh</p>
                        <button class="copy-btn mt-3 text-sm bg-purple-100 text-purple-700 py-1 px-3 rounded-full hover:bg-purple-200 transition-colors" data-text="08987654321">Salin No.</button>
                    </div>
                </div>
            </div>
            
            <!-- (DIUBAH) Gift Registry Card - Desain baru -->
            <div class="max-w-md mx-auto mt-8 text-center p-6 bg-white shadow-xl rounded-2xl">
                 <h3 class="font-playfair text-2xl text-pink-800 mb-4">Daftar Hadiah</h3>
                 <p class="text-gray-600 mb-4">
                     Kami juga telah menyusun daftar hadiah. Anda dapat melihatnya melalui tautan di bawah ini:
                 </p>
                 <a href="#" target="_blank" class="inline-block bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300 transition-colors">
                    Lihat Daftar Hadiah
                 </a>
                 <p class="text-xs text-gray-500 mt-3">(Tautkan ke layanan gift registry Anda)</p>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="py-16 px-6 text-center">
            <p class="text-gray-600 mb-6 max-w-lg mx-auto fade-in">
                Merupakan suatu kehormatan dan kebahagiaan bagi kami, apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu kepada kedua mempelai.
            </p>
            <h2 class="font-great-vibes text-6xl text-pink-800 mb-2 fade-in">Terima Kasih</h2>
            <h3 class="font-playfair text-3xl text-pink-700 fade-in">Rizky & Sri</h3>
        </footer>
        
    </main>
    
    <script>
        // --- KONFIGURASI PENTING ---
        // Ganti dengan URL Web App Google Apps Script Anda yang sudah di-deploy
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx2NnmkvSlGrqkPIGpbOkoK7sQDIRGLxIAudtlq8e_fCuk9UFavs2Z8KGSXkpyyQiQm/exec"; 
        
        // Target Tanggal Countdown (Tahun, Bulan (0-11), Hari, Jam, Menit, Detik)
        // 31 Desember 2025, jam 8:00 pagi
        const COUNTDOWN_TARGET = new Date(2025, 11, 31, 8, 0, 0); 
        // -----------------------------
        
        document.addEventListener('DOMContentLoaded', () => {
            
            // === 1. Personalisasi Undangan ===
            const urlParams = new URLSearchParams(window.location.search);
            const guestName = urlParams.get('to') || 'Tamu Undangan';
            document.getElementById('guest-name').innerText = guestName.replace(/_/g, ' ');
            // Juga isi nama di form RSVP
            document.getElementById('rsvp-name').value = guestName.replace(/_/g, ' ');
            document.getElementById('guestbook-name').value = guestName.replace(/_/g, ' ');

            // === 2. Animasi Pembuka (Cover) ===
            const cover = document.getElementById('cover');
            const mainContent = document.getElementById('main-content');
            const openButton = document.getElementById('open-invitation');

            openButton.addEventListener('click', () => {
                cover.classList.add('hidden');
                mainContent.classList.remove('hidden');
                setTimeout(() => mainContent.style.opacity = '1', 10);
                
                // Mulai musik
                playMusic();
                
                // Scroll ke atas
                window.scrollTo(0, 0);
            });

            // === 3. Background Music (Tone.js) ===
            let musicPlaying = false;
            let synth, seq;
            const musicOnIcon = document.getElementById('music-on-icon');
            const musicOffIcon = document.getElementById('music-off-icon');
            const musicToggle = document.getElementById('music-toggle');

            function initializeMusic() {
                // Melodi romantis sederhana (Pachelbel's Canon-like progression)
                synth = new Tone.PolySynth(Tone.Synth, {
                    oscillator: { type: "fatsawtooth" },
                    envelope: { attack: 0.1, decay: 0.1, sustain: 0.3, release: 1 },
                    volume: -12 // Turunkan volume
                }).toDestination();

                const melody = [
                    ['C4', 'E4', 'G4'], null, ['G3', 'B3', 'D4'], null,
                    ['A3', 'C4', 'E4'], null, ['E3', 'G3', 'B3'], null,
                    ['F3', 'A3', 'C4'], null, ['C3', 'E3', 'G3'], null,
                    ['F3', 'A3', 'C4'], null, ['G3', 'B3', 'D4'], null,
                ];

                seq = new Tone.Sequence((time, notes) => {
                    if (notes) {
                        synth.triggerAttackRelease(notes, "4n", time);
                    }
                }, melody, "4n").start(0);
                
                Tone.Transport.bpm.value = 70;
            }

            async function playMusic() {
                if (!musicPlaying) {
                    await Tone.start();
                    if (!seq) initializeMusic();
                    Tone.Transport.start();
                    musicPlaying = true;
                    musicOnIcon.classList.remove('hidden');
                    musicOffIcon.classList.add('hidden');
                }
            }

            function stopMusic() {
                if (musicPlaying) {
                    Tone.Transport.stop();
                    musicPlaying = false;
                    musicOnIcon.classList.add('hidden');
                    musicOffIcon.classList.remove('hidden');
                }
            }

            musicToggle.addEventListener('click', () => {
                musicPlaying ? stopMusic() : playMusic();
            });

            // === 4. Countdown Timer ===
            const countdownElements = {
                days: document.getElementById('days'),
                hours: document.getElementById('hours'),
                minutes: document.getElementById('minutes'),
                seconds: document.getElementById('seconds')
            };

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = COUNTDOWN_TARGET.getTime() - now;

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    Object.values(countdownElements).forEach(el => el.innerText = '00');
                    return;
                }

                const d = Math.floor(distance / (1000 * 60 * 60 * 24));
                const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const s = Math.floor((distance % (1000 * 60)) / 1000);

                countdownElements.days.innerText = d.toString().padStart(2, '0');
                countdownElements.hours.innerText = h.toString().padStart(2, '0');
                countdownElements.minutes.innerText = m.toString().padStart(2, '0');
                countdownElements.seconds.innerText = s.toString().padStart(2, '0');
            }
            const countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown();

            // === 5. Animasi Kelopak Bunga & Kilau ===
            const petalContainer = document.getElementById('petal-container');
            // (DIUBAH) Menambahkan kilau '‚ú®', 'üíé', 'üåü'
            const petals = ['üå∏', 'üå∫', '‚ú®', 'üíñ', 'üíÆ', '‚ùÄ', 'üíé', 'üåü'];
            
            function createPetal() {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                petal.innerText = petals[Math.floor(Math.random() * petals.length)];
                petal.style.left = `${Math.random() * 100}vw`;
                petal.style.animationDuration = `${Math.random() * 5 + 10}s`; // Durasi 10-15 detik
                petal.style.animationDelay = `${Math.random() * 5}s`;
                petal.style.fontSize = `${Math.random() * 10 + 10}px`;
                petal.style.opacity = Math.random() * 0.5 + 0.3;
                petalContainer.appendChild(petal);
                
                // Hapus kelopak after selesai animasi
                setTimeout(() => {
                    petal.remove();
                }, 15000);
            }
            // Buat beberapa kelopak setiap beberapa saat
            setInterval(createPetal, 500);

            // === 6. Animasi Fade-in on Scroll ===
            const faders = document.querySelectorAll('.fade-in');
            const appearOptions = {
                threshold: 0.1,
                rootMargin: "0px 0px -50px 0px"
            };
            const appearOnScroll = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) {
                        return;
                    } else {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, appearOptions);

            faders.forEach(fader => {
                appearOnScroll.observe(fader);
            });

            // === 7. Logika Formulir (RSVP & Guestbook) ===
            const rsvpForm = document.getElementById('rsvp-form');
            const rsvpStatus = document.getElementById('rsvp-status');
            const rsvpCountWrapper = document.getElementById('rsvp-count-wrapper');
            const rsvpSubmitBtn = document.getElementById('rsvp-submit');
            const rsvpMessageEl = document.getElementById('rsvp-message');
            
            // Tampilkan/sembunyikan jumlah tamu berdasarkan pilihan
            rsvpStatus.addEventListener('change', (e) => {
                rsvpCountWrapper.style.display = e.target.value === 'Hadir' ? 'block' : 'none';
            });
            
            // Submit RSVP
            rsvpForm.addEventListener('submit', (e) => {
                e.preventDefault();
                if (SCRIPT_URL === "YOUR_GOOGLE_APPS_SCRIPT_DEPLOYMENT_URL_HERE") {
                    rsvpMessageEl.innerText = 'Fitur ini belum diaktifkan. Harap hubungi pengantin.';
                    rsvpMessageEl.className = 'text-center mt-4 text-red-600';
                    return;
                }
                
                rsvpSubmitBtn.disabled = true;
                rsvpSubmitBtn.innerText = 'Mengirim...';

                const formData = new FormData(rsvpForm);
                const data = Object.fromEntries(formData.entries());
                data.type = "RSVP"; // Tambahkan tipe untuk identifikasi di Apps Script

                fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', // Penting untuk Apps Script
                    cache: 'no-cache',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                .then(() => {
                    rsvpMessageEl.innerText = 'Terima kasih atas konfirmasinya!';
                    rsvpMessageEl.className = 'text-center mt-4 text-green-600';
                    rsvpForm.reset();
                    rsvpCountWrapper.style.display = 'none';
                })
                .catch(error => {
                    rsvpMessageEl.innerText = 'Terjadi kesalahan. Coba lagi nanti.';
                    rsvpMessageEl.className = 'text-center mt-4 text-red-600';
                    console.error('Error:', error);
                })
                .finally(() => {
                    rsvpSubmitBtn.disabled = false;
                    rsvpSubmitBtn.innerText = 'Kirim Konfirmasi';
                });
            });

            // Submit Guestbook
            const guestbookForm = document.getElementById('guestbook-form');
            const guestbookSubmitBtn = document.getElementById('guestbook-submit');
            const guestbookMessageEl = document.getElementById('guestbook-message-response');
            
            guestbookForm.addEventListener('submit', (e) => {
                e.preventDefault();
                if (SCRIPT_URL === "YOUR_GOOGLE_APPS_SCRIPT_DEPLOYMENT_URL_HERE") {
                    guestbookMessageEl.innerText = 'Fitur ini belum diaktifkan.';
                    guestbookMessageEl.className = 'text-center mt-4 text-red-600';
                    return;
                }

                guestbookSubmitBtn.disabled = true;
                guestbookSubmitBtn.innerText = 'Mengirim...';

                const formData = new FormData(guestbookForm);
                const data = Object.fromEntries(formData.entries());
                data.type = "Guestbook"; // Tambahkan tipe

                fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', // Penting untuk Apps Script
                    cache: 'no-cache',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                .then(() => {
                    guestbookMessageEl.innerText = 'Terima kasih atas ucapan & doanya!';
                    guestbookMessageEl.className = 'text-center mt-4 text-green-600';
                    guestbookForm.reset();
                })
                .catch(error => {
                    guestbookMessageEl.innerText = 'Terjadi kesalahan. Coba lagi nanti.';
                    guestbookMessageEl.className = 'text-center mt-4 text-red-600';
                    console.error('Error:', error);
                })
                .finally(() => {
                    guestbookSubmitBtn.disabled = false;
                    guestbookSubmitBtn.innerText = 'Kirim Ucapan';
                });
            });
            
            // === 8. Logika Tab Hadiah ===
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.dataset.tab;
                    
                    // Update tombol
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    // Update konten
                    tabContents.forEach(content => {
                        content.id === `tab-${tabId}` ? content.classList.add('active') : content.classList.remove('active');
                    });
                });
            });
            
            // === 9. Logika Tombol Salin (Copy) ===
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const textToCopy = button.dataset.text;
                    
                    // Gunakan document.execCommand untuk kompatibilitas iframe
                    const textArea = document.createElement('textarea');
                    textArea.value = textToCopy;
                    textArea.style.position = 'fixed'; // Hindari scroll jump
                    textArea.style.left = '-9999px';
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    
                    try {
                        document.execCommand('copy');
                        const originalText = button.innerText;
                        button.innerText = 'Tersalin!';
                        setTimeout(() => {
                            button.innerText = originalText;
                        }, 1500);
                    } catch (err) {
                        console.error('Gagal menyalin:', err);
                    }
                    
                    document.body.removeChild(textArea);
                });
            });

        });
    </script>
</body>
</html>
